<div class="auth">
    @if (!emailSent()) {
    <div class="auth__card">
        <header class="auth__header">
            <h1>{{ title() }}</h1>
            <p class="auth__subtitle">{{ description() }}</p>
        </header>

        <form [formGroup]="form" (ngSubmit)="onSubmit()" class="auth__form">
            <div class="form-field">
                <label for="email">{{ emailLabel() }}</label>
                <input type="email" id="email" formControlName="email" autocomplete="email"
                    [class.form-field__input--invalid]="form.controls.email.invalid && form.controls.email.touched" />
                @if (form.controls.email.invalid && form.controls.email.touched) {
                <p class="form-field__error" role="alert">
                    {{ emailLabel() }} invalide
                </p>
                }
            </div>

            <app-button type="submit" [fullWidth]="true" variant="accent" [disabled]="isSubmitting() || form.invalid">
                {{ isSubmitting() ? submittingLabel() : submitButtonLabel() }}
            </app-button>
        </form>

        <div class="auth__footer">
            <a routerLink="/auth/login" class="auth__link">{{ backToLoginLink() }}</a>
        </div>
    </div>
    } @else {
    <div class="auth__card">
        <div class="success-icon">
            <i class="fa-solid fa-circle-check"></i>
        </div>
        <header class="auth__header auth__header--success">
            <h1>{{ successMessage() }}</h1>
            <p class="auth__subtitle">{{ successDescription() }}</p>
        </header>

        <div class="auth__footer">
            <a routerLink="/auth/login" class="auth__link">{{ backToLoginLink() }}</a>
        </div>
    </div>
    }
</div>